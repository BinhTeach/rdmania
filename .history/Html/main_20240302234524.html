<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RDMania Store</title>
    <link rel="stylesheet" href="../Css/styles.css">
    <script src="https://kit.fontawesome.com/45c2fe20a1.js" crossorigin="anonymous"></script>
    <link rel="shortcut icon" type="image/png" href="../Image/logo.png">
    <script src="../Script/main.js"></script>
    <link href="https://fonts.cdnfonts.com/css/algeria" rel="stylesheet">
</head>
<body>
     <div id="header">
          <div class="header--container">
               <img onclick="appearMenu()" src="../Image/logo.png" alt="">
               <div class="header__title--logo">RD <br/> MANIA</div>
               <nav>
                    <ul class="header__nav header__nav--up">
                         <li> 
                              <input class="header__nav--find" type="text" placeholder="Hãy tìm lại chính bạn!">
                         </li>
                         <li class="header__nav--icon"><i class="fa-solid fa-bell"></i></li>
                         <li class="header__nav--titleSymbol">Thông báo</li>
                         <li class="header__nav--icon"><i class="fa-solid fa-cart-shopping"></i></i></li>
                         <li class="header__nav--titleSymbol">Giỏ hàng</li>
                         <li class="header__nav--icon " name="history-bill"><i class="fa-solid fa-money-bill"></i></li>
                         <li class="header__nav--titleSymbol">Lịch sử</li>
                         <li class="header__nav--icon fa-user--up" name='user'><i class="fa-solid fa-user"></i></li>
                    </ul>
                    <ul class="header__nav--center">
                         <li class="header__nav--menu"><a href="">Cửa hàng</a></li>
                         <li class="header__nav--menu" id="sideBar__hidden"><span>Danh Mục</span>
                              <div id="sideBar--main">
                                   <ul>
                                        <li class="sideBar__header--element">
                                             <div class="sideBar__header--title">Thắt Lưng Rider</div>
                                             <ul class="sideBar__dropList sideBar__dropList--first">
                                                  <li class="sideBar__dropList--sub"><a href=""> &#10148;	Dx</a></li>
                                                  <li class="sideBar__dropList--sub"><a href="">&#10148;	</a></li>
                                             </ul>
                                        </li>
                                   </ul>
                                   <ul>
                                        <li class="sideBar__header--element">
                                             <div class="sideBar__header--title">Thắt Lưng Rider</div>
                                             <ul class="sideBar__dropList">
                                                  <li class="sideBar__dropList--sub"><a href="">&#10148;	</a></li>
                                                  <li class="sideBar__dropList--sub"><a href="">&#10148;	</a></li>
                                             </ul>
                                        </li>
                                   </ul>
                                   <ul>
                                        <li class="sideBar__header--element">
                                             <div class="sideBar__header--title">Thắt Lưng Rider</div>
                                             <ul class="sideBar__dropList">
                                                  <li class="sideBar__dropList--sub"><a href="">&#10148;	</a></li>
                                                  <li class="sideBar__dropList--sub"><a href="">&#10148;	</a></li>
                                             </ul>
                                        </li>
                                   </ul>
                                   <ul>
                                        <li class="sideBar__header--element">
                                             <div class="sideBar__header--title">Thắt Lưng Rider</div>
                                             <ul class="sideBar__dropList">
                                                  <li class="sideBar__dropList--sub"><a href="">&#10148;	</a></li>
                                                  <li class="sideBar__dropList--sub"><a href="">&#10148;	</a></li>
                                             </ul>
                                        </li>
                                   </ul>
                                   <ul>
                                        <li class="sideBar__header--element">
                                             <div class="sideBar__header--title">Thắt Lưng Rider</div>
                                             <ul class="sideBar__dropList sideBar__dropList--last">
                                                  <li class="sideBar__dropList--sub"><a href="">&#10148;	</a></li>
                                                  <li class="sideBar__dropList--sub"><a href="">&#10148;	</a></li>
                                             </ul>
                                        </li>
                                   </ul>
                              </div>              
                         </li>
                         <li class="header__nav--menu"><a href="">Ưa thích</a></li>
                         <li class="header__nav--menu"><a href="">Liên hệ</a></li>
                         <li class="header__nav--menu"><a href="">Thêm</a></li>
                    </ul>             
               </nav>
          </div>
          <ul class="header__nav--down">
               <li class="header__nav--address">Đại học Thủ Dầu Một</li>
               <li class="header__nav--premium">Premium</li>
          </ul>
     </div>
</body>
<script>
     var width__check = false;
     var insertFind__check = false;
     window.addEventListener('load', function(){
          if(innerWidth < 768){
               if(!width__check){
                    appearMenu();
                    width__check = true;
                    
               }
               deleteTag_br();      
          }
          else{
               addTag_br();
          }
     })
     window.addEventListener('resize', function(){
          if(innerWidth < 768){
               if(!width__check){
                    appearMenu();
                    width__check = true;
                    
               }
               deleteTag_br();      
          }
          else{
               addTag_br();
          }
          
     })
          
     function appearMenu() {
          var parentElement = document.getElementsByClassName('header--container')[0];
          var newDiv = document.createElement('div');
          parentElement.appendChild(newDiv);

          newDiv.innerHTML = '&#9776;';
          newDiv.id = "newMenu iconMenu";          newDiv.style.display='flex';
          newDiv.addEventListener('click', clickMenu);
          document.documentElement.style.setProperty('--set-Width', window.innerWidth + 'px');
               var element = document.getElementsByClassName('header__nav--icon')[0]; 
     }
     function clickMenu() {
          let clickMenu = document.getElementsByClassName('header__nav--icon');
          for(let element of clickMenu){
               element.style.display = 'block';
          }
          let noneMenu = document.getElementsByClassName('iconMenu')[0];
          noneMenu.style.display = 'none';
          let userUp = document.getElementsByClassName('header__nav--icon')[3];
          userUp.classList.add('fa-user--up');
     }
     var clickMenulist = document.getElementsByClassName('header__nav--menu')[1];
     var clickMenulist__check = false;
     clickMenulist.addEventListener('click', function(){
          if(!clickMenulist__check){
               let appear = document.getElementById('sideBar__hidden');
               appear.id='sideBar__appear';
               clickMenulist__check = true;
               appear = document.getElementById('sideBar__appear');
               changeAppear = appear.querySelector('div');
               changeAppear.style.width = '0px';
               changeAppear.style.height = '0px';
               changeAppear.style.transition = 'none';
               
               if(innerWidth >= 1024){
                    setTimeout(function() {
                         changeAppear.style.flexDirection = 'row';
                         changeAppear.style.width = '1024px';
                         changeAppear.style.height = '235px';
                         changeAppear.style.transition = 'height 1s';
                    }, 100);
                    if(insertFind__check){
                         let removeFind = document.getElementById('sideBar--main');
                         let firstChild = removeFind.querySelector('input');
                         firstChild.remove();
                         insertFind__check = false;
                    }
               }
               else if(innerWidth < 1024){
                    setTimeout(function(){
                         changeAppear.style.width = '40vw';
                         changeAppear.style.height = '100vh';
                         changeAppear.style.transition = 'width 1s linear';
                         changeAppear.style.flexDirection = 'column';
                    },100)
                    if(insertFind__check === false){
                         let insertFind = document.createElement('input');
                         let isInserted = document.getElementById('sideBar--main');
                         let firstChild = isInserted.firstChild;
                         isInserted.insertBefore(insertFind, firstChild);
                         insertFind.type='text';
                         insertFind.id = 'sideBar__find';
                         insertFind.placeholder ='  Ở đây có thứ bạn cần tìm...';
                         insertFind__check = true;
                    }
               }
               appear = document.getElementsByClassName('sideBar__dropList');
               for(var i = 0; i < appear.length; i++){
                    appear[i].style.transition='none';
                    appear[i].style.border='none';
               }
               setTimeout(function() {
                    for(var i = 0; i < appear.length; i++){
                         appear[i].style.transition='border 1s ease 1s';
                         if(innerWidth >= 1024 && i > 0){
                              appear[i - 1].style.borderRight='1px solid #004643';
                         }
                         else if(innerWidth < 1024){
                              appear[i].style.borderTop='3px solid #004643';
                         }
                        
                    }
               }, 100);
               let lowAppear = document.getElementsByClassName('sideBar__header--title');
               for(let i = 0; i < lowAppear.length; i++){
                    lowAppear[i].style.color = 'rgba(0,0,0,0)';
                    lowAppear[i].style.background = 'rgba(0,0,0,0)';
                    lowAppear[i].style.transition = 'none'
               }
               setTimeout(function(){
                    for(let i = 0; i < lowAppear.length; i++){
                    lowAppear[i].style.color = '#fffffe';
                    lowAppear[i].style.background = '#004643';
                    lowAppear[i].style.transition = 'background 0.5s linear 0.5s, color 0.5s linear 0.5s';
               }
               })
               let lowAppear__sub = document.getElementsByClassName('sideBar__dropList--sub');
               for(let i = 0; i < lowAppear__sub.length; i++){
                    let childthis = lowAppear__sub[i].querySelector('a');
                    childthis.style.color = 'rgba(0,0,0,0)';
                    childthis.style.transition = 'none'
               }
               setTimeout(function(){
                    for(let i = 0; i < lowAppear__sub.length; i++){
                    let childthis = lowAppear__sub[i].querySelector('a');
                    childthis.style.color = '#004643';
                    childthis.style.transition = 'color 0.5s linear 1s ';
                    childthis.addEventListener('mouseover', function(){
                         this.style.color='rgb(0,70,67,0.3) ';
                         this.style.transform='scaleX(1.1)';
                    })
                    childthis.addEventListener('mouseleave', function(){
                         this.style.color='#004643';
                         this.style.transform='none';
                    })
               }
               },100)
               let borderAppear = document.getElementById('sideBar--main');
               borderAppear.style.transition='none';
               borderAppear.style.border='none';
               setTimeout(function(){
                    borderAppear.style.border='5px solid #004643';
                    borderAppear.style.transition='border 3s linear 0.5s';
               })
          }
          else{
               let hidden = document.getElementById('sideBar__appear');
               hidden.id='sideBar__hidden';
               clickMenulist__check = false;
          }
          
          window.addEventListener('resize', function(){
               let fixBug__appearMenu = document.getElementById('sideBar__appear');
               fixBug__appearMenu.id='sideBar__hidden';
               clickMenulist__check = false;
          })
          
     })
     function deleteTag_br(){
          let del = document.getElementsByClassName('header__title--logo')[0];
          del.innerHTML = "RD MANIA";
     }
     function addTag_br(){
          let add = document.getElementsByClassName('header__title--logo')[0];
          add.innerHTML ="";
          add.innerHTML = "RD <br/> MANIA";
     }
     </script>
</html>
